SELECT TO_CHAR (HTD.TRVLNG_MNTH, 'dd/MM/yyyy')
           AS TRVLNG_MNTH,
       HTD.REG_SEQ,
       REG.REG_NM
           AS REG_NM,
       HTD.AREA_SEQ,
       AREA.AREA_NM
           AS AREA_NM,
       HTD.BRNCH_SEQ,
       BRNCH.BRNCH_NM
           AS BRNCH_NM,
       HTD.PORT_SEQ,
       PORT.PORT_NM
           AS PORT_NM,
       TO_CHAR (HTD.HRID)
           AS HRID,
       HRS.NAME
           AS EMP_NM,
       TO_CHAR (HTD.WRKNG_STRT_DT, 'dd/MM/yyyy')
           AS WRKNG_STRT_DT,
       TO_CHAR (HTD.WRKNG_END_DT, 'dd/MM/yyyy')
           AS WRKNG_END_DT,
       (SELECT SUM (TRV.AMT)
          FROM MW_HR_TRVLNG TRV
         WHERE     REF_CD_TRVLNG_ROL = HTD.REF_CD_TRVLNG_ROL
               AND REF_CD_PORT_TYP_SEQ = HTD.FIELD_TYPE_SEQ
               AND TRV.CRNT_REC_FLG = 1)
           AS TRVLNG_RATE,
       HTD.PER_DAY_VALUE,
       HTD.DISB_CLNTS,
       HTD.DISB_AMT,
       HTD.FIELD_TYPE_SEQ,
       HTD.FIELD_TYPE_DSCR,
       HTD.INCTVE
           AS TRVL_AMT,
       (SELECT SUM (HTD.INCTVE)
          FROM MW_HR_TRVLNG_DTL DTL
         WHERE DTL.HRID = HTD.HRID AND DTL.TRVLNG_MNTH = HTD.TRVLNG_MNTH)
           AS TRVL_GRAND_TOTAL,
       TO_CHAR (HTD.TRNS_DATE, 'dd/MM/yyyy')
           AS TRNS_DATE,
       HTD.MW_HR_TRVLNG_DTL_SEQ,
       HTD.REF_CD_TRVLNG_ROL,
       HTD.REF_CD_TRVLNG_ROL_DSCR,
       HTD.REF_CD_CALC_TYP,
       HTD.REF_CD_CALC_TYP_DSCR
  FROM MW_HR_TRVLNG_DTL  HTD
       JOIN MW_REG REG
           ON REG.REG_SEQ = HTD.REG_SEQ AND REG.CRNT_REC_FLG = 1
       JOIN MW_AREA AREA
           ON AREA.AREA_SEQ = HTD.AREA_SEQ AND AREA.CRNT_REC_FLG = 1
       JOIN MW_BRNCH BRNCH
           ON BRNCH.BRNCH_SEQ = HTD.BRNCH_SEQ AND BRNCH.CRNT_REC_FLG = 1
       JOIN MW_PORT PORT
           ON PORT.PORT_SEQ = HTD.PORT_SEQ AND PORT.CRNT_REC_FLG = 1
       JOIN HR.HRIS HRS ON TO_NUMBER(HRS.EMPLOYEE_ID) = HTD.HRID
 WHERE HTD.TRVLNG_MNTH = TO_DATE ( :monthDt )